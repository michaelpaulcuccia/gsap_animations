import React, { useRef, useEffect } from "react";
import Image from "next/image";
import { useRouter } from "next/router";
import { gsap } from "gsap";
import styles from "../styles/Cookie.module.css";
//import cookie from "../public/images/cookie.svg";
//import wucookie from "../public/images/wucookie.svg";

export default function Cookie() {
  //REFS
  const wrapper = useRef();
  const cookieContainer = useRef();
  const text = useRef();
  const button = useRef();

  //ANIMATION TIMELINE
  const tlOne = gsap.timeline({
    defaults: {
      duration: 0.75,
      ease: "power1.out",
    },
  });

  //ROUTER
  const router = useRouter();

  useEffect(() => {
    //ENTRANCE ANIMATIONS
    tlOne.from(
      cookieContainer.current,
      {
        scale: 0,
      },
      {
        scale: 1,
      }
    );
    tlOne.fromTo(
      ".cookie",
      {
        opacity: 0,
        x: -50,
        rotation: "-45deg",
      },
      {
        opacity: 1,
        x: 0,
        rotation: "0deg",
      }
    );
    tlOne.fromTo(
      text.current,
      {
        x: 30,
        opacity: 0,
      },
      {
        x: 0,
        opacity: 1,
      },
      //syncs with previous animation
      "<"
    );
  }, []);

  const handleClick = () => {
    //TIMELINE
    const tl = gsap.timeline({
      defaults: {
        duration: 0.75,
      },
    });
    //ANIMATIONS
    tl.fromTo(
      "#cookie",
      {
        opacity: 1,
      },
      {
        opacity: 0,
      }
    );
    tl.to("#wu", {
      opacity: 0,
      y: 200,
      duration: 0.5,
    });
    tl.to(wrapper.current, {
      opacity: 1,
      y: 0,
      duration: 0.5,
    });
    //TIMEOUT NECESSARY FOR ANIMATIONS
    setTimeout(() => {
      router.push("/home");
    }, 2700);
  };

  return (
    <div className={styles.wrapper} ref={wrapper}>
      <div className={styles.cookiecontainer} ref={cookieContainer}>
        {/* <Image src={wucookie} width={150} height={150} className="cookie" /> */}
        <svg
          width="153"
          height="155"
          viewBox="0 0 153 155"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          className="cookie"
        >
          <g id="wucookie 1">
            <g id="wucookie">
              <path
                id="wu"
                fillRule="evenodd"
                clipRule="evenodd"
                d="M50.7475 44.1906L76.5748 51.2367C76.5748 51.2367 67.1937 60.5528 78.6453 68.7937C78.9492 68.7131 81.8546 62.7865 77.1297 62.4432L76.9783 61.6402L86.0761 57.3274C86.0761 57.3274 92.4112 60.5528 89.2442 67.1212C89.2442 67.1212 100.415 60.6724 87.08 52.0718L113.75 39.3425C113.75 39.3425 152.527 90.6035 89.0098 111.418C89.0098 111.418 100.44 83.08 87.2803 83.2527C87.2803 83.2527 76.0258 82.1743 87.7817 103.677C87.7817 103.677 40.7577 106.945 44.0916 64.6292C44.0916 64.6292 45.6705 52.0718 49.7065 45.8792L50.6722 44.3629L50.7475 44.1906Z"
                fill="#007AB3"
              />
              <g id="cookie">
                <path
                  id="Vector"
                  d="M112.201 35.6647L109.824 39.6666C109.033 40.9984 107.424 41.6037 105.951 41.1239L94.5026 37.3954C93.5332 37.0797 92.4724 37.228 91.6268 37.797L89.449 39.2633C88.1884 40.1118 86.5124 39.9939 85.3834 38.9773L72.2637 27.1656C71.6509 26.6136 70.8534 26.3104 70.0283 26.3151L60.8969 26.3685C55.8804 29.3129 51.2978 33.2291 47.4427 38.1193C32.6263 56.9146 34.1149 84.2871 50.8939 101.354C70.4738 121.27 102.467 120.331 120.881 99.8928C138.444 80.3994 137.059 50.4811 117.929 32.6686L113.839 34.2732C113.153 34.542 112.577 35.0317 112.201 35.6647Z"
                  fill="#007AB3"
                />
                <g id="Group">
                  <path
                    id="Vector_2"
                    d="M119.78 78.8555C119.585 79.0722 119.381 79.2741 119.182 79.4862C119.481 82.203 118.675 85.0292 116.701 87.2202C113.794 90.4464 109.254 91.3139 105.464 89.7183C99.7408 92.5584 93.5545 94.1989 87.2865 94.615C86.983 95.2584 86.6157 95.88 86.1151 96.4359C83.3611 99.4923 78.6502 99.7386 75.5927 96.9856C74.525 96.0243 73.8217 94.8181 73.4478 93.5332C73.347 93.5102 73.2459 93.4917 73.1451 93.4683C69.4258 97.0728 63.5016 97.2368 59.5951 93.7199C57.2931 91.6473 56.1876 88.743 56.3217 85.8733C54.8242 84.8084 53.3674 83.6581 51.969 82.3992C44.952 76.0816 40.2458 68.1622 37.8789 59.6968C35.219 75.3649 40.3819 92.0137 53.0692 103.436C72.7737 121.177 103.134 119.59 120.881 99.8928C132.308 87.2099 135.706 70.1143 131.426 54.8087C129.955 63.4744 126.1 71.8411 119.78 78.8555Z"
                    fill="#0098B3"
                  />
                  <path
                    id="Vector_3"
                    d="M71.8487 70.2269C73.3787 68.5289 73.2422 65.9124 71.5436 64.3834C69.8445 62.8539 67.2275 62.9908 65.6975 64.6888C64.1675 66.3869 64.3044 69.0029 66.0031 70.5324C67.7017 72.0618 70.3191 71.9249 71.8487 70.2269Z"
                    fill="#0098B3"
                  />
                  <path
                    id="Vector_4"
                    d="M121.512 55.9126C123.042 54.2146 122.905 51.5981 121.206 50.0687C119.507 48.5397 116.89 48.6762 115.36 50.3742C113.83 52.0722 113.967 54.6887 115.666 56.2181C117.365 57.7471 119.982 57.6107 121.512 55.9126Z"
                    fill="#0098B3"
                  />
                  <path
                    id="Vector_5"
                    d="M96.3036 83.8912C97.3746 82.7026 97.2788 80.8713 96.0897 79.8007C94.9007 78.7301 93.0684 78.8259 91.9978 80.0145C90.9268 81.2031 91.0226 83.0344 92.2117 84.105C93.4007 85.1756 95.2326 85.0798 96.3036 83.8912Z"
                    fill="#0098B3"
                  />
                  <path
                    id="Vector_6"
                    d="M91.5779 49.5663C92.6485 48.3777 92.5526 46.546 91.364 45.4754C90.175 44.4052 88.3427 44.501 87.2717 45.6896C86.2011 46.8782 86.2965 48.7095 87.4855 49.7801C88.6746 50.8503 90.5069 50.7549 91.5779 49.5663Z"
                    fill="#0098B3"
                  />
                  <path
                    id="Vector_7"
                    d="M64.7523 41.0065C65.8229 39.818 65.7275 37.9866 64.5384 36.9161C63.3494 35.8456 61.5171 35.9413 60.4465 37.1299C59.3755 38.3185 59.4714 40.1499 60.6604 41.2205C61.8494 42.2907 63.6813 42.1954 64.7523 41.0065Z"
                    fill="#0098B3"
                  />
                </g>
                <g id="Group_2">
                  <path
                    id="Vector_8"
                    d="M79.6024 65.9708L80.6919 69.5267C81.3429 71.6519 83.8633 72.5445 85.7076 71.3029L90.5789 68.0236C92.0957 67.0028 92.4975 64.9454 91.4759 63.4291L89.9747 61.2011C89.6712 60.7501 89.2615 60.3813 88.7811 60.1264L86.2718 58.7943C84.711 57.9651 82.7738 58.5082 81.8715 60.0278L79.9211 63.3111C79.4448 64.1133 79.3293 65.079 79.6024 65.9708Z"
                    fill="#0098B3"
                  />
                  <path
                    id="Vector_9"
                    d="M101.229 72.5848L102.365 76.2933C102.93 78.1369 104.946 79.1096 106.741 78.4053L113.355 75.8106C115.327 75.0373 116.075 72.637 114.892 70.8802L113.384 68.6424L111.622 66.0267C110.525 64.3986 108.26 64.0767 106.753 65.3348L102.272 69.0745C101.25 69.928 100.838 71.3115 101.229 72.5848Z"
                    fill="#0098B3"
                  />
                  <path
                    id="Vector_10"
                    d="M63.2363 85.2483L64.6227 89.7742C65.0678 91.2267 66.4448 92.19 67.962 92.1107L73.3771 91.8278C75.348 91.725 76.792 89.9321 76.4716 87.9853L75.6186 82.7951C75.4508 81.7759 74.817 80.8927 73.9039 80.4084L71.1742 78.9591C70.0436 78.3593 68.669 78.4637 67.6429 79.228L64.4241 81.6246C63.3021 82.46 62.8262 83.9109 63.2363 85.2483Z"
                    fill="#0098B3"
                  />
                  <path
                    id="Vector_11"
                    d="M52.2816 57.2493L53.3509 60.739C53.9711 62.7639 56.3081 63.6939 58.1507 62.6492L61.8885 60.5302C62.9796 59.9118 63.6274 58.7302 63.562 57.4783L63.4 54.3803C63.3391 53.2193 62.6736 52.175 61.6462 51.6298L59.5565 50.5201C58.2144 49.8076 56.5594 50.0995 55.5423 51.2285L52.9869 54.0646C52.2092 54.9284 51.941 56.1375 52.2816 57.2493Z"
                    fill="#0098B3"
                  />
                  <path
                    id="Vector_12"
                    d="M98.0623 44.6647L98.2042 47.3704C98.2996 49.1958 99.8575 50.5987 101.684 50.5033L103.008 50.4342C104.432 50.3598 105.648 49.3833 106.027 48.0097L107.642 42.167C108.055 40.6715 107.374 39.0897 106.003 38.362L105.109 37.8872C103.548 37.0583 101.611 37.6013 100.708 39.1206L98.5221 42.8018C98.1881 43.3634 98.0281 44.0118 98.0623 44.6647Z"
                    fill="#0098B3"
                  />
                  <path
                    id="Vector_13"
                    d="M72.26 37.9987L72.9674 41.5939C73.2269 42.9144 74.2609 43.9464 75.5824 44.2042L79.4637 44.9615C81.3195 45.3237 83.1012 44.0615 83.3747 42.1917L84.0932 37.2796C84.3684 35.3992 83.0066 33.674 81.113 33.5038L77.3847 33.1687C76.7134 33.1084 76.0401 33.2539 75.4545 33.5862L73.8759 34.4808C72.6359 35.1836 71.9848 36.6006 72.26 37.9987Z"
                    fill="#0098B3"
                  />
                  <path
                    id="Vector_14"
                    d="M92.1701 94.0451L92.7315 97.4592C93.0918 99.651 95.4666 100.873 97.4605 99.8928L100.268 98.5126C101.031 98.1376 101.62 97.4835 101.914 96.6855L103.126 93.3922C103.853 91.4192 102.579 89.2775 100.498 88.9733L99.4989 88.8277C98.9284 88.7443 98.3469 88.8113 97.8101 89.0214L94.2282 90.4267C92.7743 90.9973 91.9172 92.505 92.1701 94.0451Z"
                    fill="#0098B3"
                  />
                </g>
                <g id="Group_3">
                  <path
                    id="Vector_15"
                    d="M75.8345 88.5128L70.4199 88.7957C68.9026 88.875 67.5257 87.9117 67.0806 86.4596L65.6942 81.9333C65.5757 81.5477 65.5506 81.1555 65.5745 80.7682L64.4245 81.6246C63.3025 82.4604 62.8267 83.9113 63.2363 85.2488L64.6232 89.7746C65.0682 91.2268 66.4448 92.1901 67.9624 92.1111L73.3771 91.8278C75.204 91.7325 76.5588 90.1825 76.4951 88.4063C76.2824 88.461 76.0632 88.5009 75.8345 88.5128Z"
                    fill="#006D80"
                  />
                  <path
                    id="Vector_16"
                    d="M63.2322 57.2784L59.4944 59.3975C57.6518 60.4418 55.3148 59.5122 54.6946 57.4873L53.6252 53.9971C53.5705 53.8195 53.5578 53.6382 53.5339 53.4577L52.9869 54.065C52.2088 54.9288 51.9406 56.1375 52.2816 57.2497L53.3505 60.7394C53.9707 62.7643 56.3077 63.6943 58.1503 62.6496L61.8885 60.5306C62.9792 59.9122 63.627 58.7306 63.5616 57.4783L63.539 57.0429C63.4345 57.1193 63.3465 57.2135 63.2322 57.2784Z"
                    fill="#006D80"
                  />
                  <path
                    id="Vector_17"
                    d="M91.974 65.0531L87.1027 68.3324C85.258 69.5736 82.738 68.6814 82.087 66.5558L80.9975 62.9999C80.8675 62.5768 80.8321 62.1373 80.8745 61.706L79.9211 63.3115C79.4448 64.1132 79.3293 65.079 79.6024 65.9708L80.6919 69.5267C81.3434 71.6523 83.8633 72.5445 85.708 71.3033L90.5789 68.024C91.6051 67.3333 92.1056 66.1694 92.0159 65.0186C92.0003 65.0289 91.9892 65.0428 91.974 65.0531Z"
                    fill="#006D80"
                  />
                  <path
                    id="Vector_18"
                    d="M81.3211 42.4725L77.4393 41.7151C76.1179 41.4574 75.0843 40.4255 74.8244 39.1047L74.1174 35.5097C74.04 35.1159 74.0528 34.7254 74.1149 34.345L73.8755 34.4807C72.6359 35.1837 71.9848 36.6008 72.26 37.9988L72.967 41.5938C73.2265 42.9144 74.2605 43.9464 75.582 44.2042L79.4633 44.9615C81.3129 45.3221 83.0872 44.0689 83.3697 42.2093C82.7536 42.5016 82.045 42.6135 81.3211 42.4725Z"
                    fill="#006D80"
                  />
                  <path
                    id="Vector_19"
                    d="M104.623 48.3127C102.797 48.4081 101.239 47.0053 101.143 45.1798L101.002 42.4737C100.968 41.8212 101.127 41.1733 101.461 40.6111L103.301 37.5128C102.261 37.5936 101.278 38.1609 100.708 39.1207L98.5217 42.8018C98.1881 43.3638 98.0281 44.0118 98.0623 44.6643L98.2037 47.3704C98.2992 49.1959 99.8571 50.5987 101.683 50.5033L103.008 50.4338C104.343 50.3643 105.469 49.4849 105.92 48.2449L104.623 48.3127Z"
                    fill="#006D80"
                  />
                  <path
                    id="Vector_20"
                    d="M109.28 75.1725C107.485 75.8768 105.469 74.9041 104.904 73.0605L103.768 69.352C103.619 68.866 103.621 68.3698 103.695 67.8875L102.273 69.0745C101.25 69.928 100.839 71.3115 101.229 72.5848L102.365 76.2933C102.93 78.1369 104.946 79.1096 106.741 78.4053L113.355 75.8106C114.673 75.2934 115.427 74.0489 115.44 72.7563L109.28 75.1725Z"
                    fill="#006D80"
                  />
                  <path
                    id="Vector_21"
                    d="M102.072 95.6827L99.2653 97.0629C97.2718 98.0435 94.8966 96.8211 94.5363 94.6293L93.9749 91.2152C93.9391 90.9986 93.9309 90.7835 93.9379 90.571C92.6666 91.2194 91.9345 92.6131 92.1701 94.0451L92.7315 97.4592C93.0918 99.651 95.4666 100.873 97.4606 99.8928L100.268 98.5126C101.031 98.1376 101.62 97.4835 101.914 96.6859L102.345 95.5149C102.254 95.5713 102.169 95.6354 102.072 95.6827Z"
                    fill="#006D80"
                  />
                </g>
                <path
                  id="Vector_22"
                  d="M76.6945 106.89C76.5284 107.074 76.317 107.224 76.0702 107.322C75.2188 107.656 74.2581 107.237 73.9241 106.385L72.5714 102.941C72.2374 102.089 72.6573 101.133 73.5079 100.795C74.3596 100.461 75.32 100.88 75.6544 101.731L77.0067 105.176C77.2436 105.78 77.1013 106.438 76.6945 106.89Z"
                  fill="white"
                />
                <path
                  id="Vector_23"
                  d="M112.635 99.1519L111.527 100.382C110.915 101.061 109.869 101.116 109.189 100.504C108.509 99.8916 108.454 98.8456 109.066 98.1664L110.174 96.9363C110.786 96.2571 111.833 96.202 112.513 96.8142C113.193 97.4264 113.247 98.4727 112.635 99.1519Z"
                  fill="white"
                />
                <path
                  id="Vector_24"
                  d="M84.8266 83.0269C84.6608 83.2115 84.4494 83.3616 84.2027 83.4591C83.3509 83.7929 82.3901 83.3744 82.0565 82.5229L80.7038 79.0779C80.3707 78.2285 80.7894 77.271 81.6403 76.9322C82.4921 76.5984 83.4525 77.0173 83.7864 77.8684L85.1392 81.3137C85.3761 81.9177 85.2338 82.5755 84.8266 83.0269Z"
                  fill="white"
                />
                <g id="Group_4">
                  <path
                    id="Vector_25"
                    d="M58.4942 72.6839C58.328 72.8681 58.1166 73.0186 57.8702 73.116L54.4236 74.4678C53.5718 74.8017 52.6115 74.3831 52.2775 73.5317C51.9439 72.6822 52.3618 71.723 53.214 71.3863L56.6602 70.0341C57.5116 69.7002 58.4724 70.1188 58.8063 70.9702C59.0436 71.5742 58.9009 72.2324 58.4942 72.6839Z"
                    fill="white"
                  />
                  <path
                    id="Vector_26"
                    d="M54.5679 42.4178L52.3519 44.8772C51.7399 45.5564 50.6936 45.6119 50.0133 44.9993C49.333 44.3871 49.2792 43.3412 49.8912 42.662L52.1072 40.2023C52.7192 39.5231 53.7655 39.4677 54.4458 40.08C55.1257 40.6924 55.1799 41.7386 54.5679 42.4178Z"
                    fill="white"
                  />
                </g>
                <path
                  id="Vector_27"
                  d="M77.4554 54.1119C77.0483 54.5633 76.4087 54.7738 75.7831 54.6007L72.2144 53.6156C71.3326 53.3722 70.8156 52.4607 71.0595 51.5792C71.305 50.6977 72.2164 50.1818 73.0962 50.4248L76.6649 51.4098C77.5467 51.6532 78.0637 52.5647 77.8198 53.4462C77.7487 53.7019 77.6212 53.9273 77.4554 54.1119Z"
                  fill="white"
                />
                <g id="Group_5">
                  <path
                    id="Vector_28"
                    d="M53.0708 93.2866C52.8401 93.3782 52.5843 93.4198 52.3198 93.3984C51.408 93.3219 50.7318 92.5214 50.8083 91.6099L51.1184 87.922C51.1941 87.0109 51.9953 86.3362 52.9071 86.4115C53.8186 86.4875 54.4951 87.288 54.4182 88.1995L54.1085 91.887C54.0538 92.5338 53.6351 93.0613 53.0708 93.2866Z"
                    fill="white"
                  />
                  <path
                    id="Vector_29"
                    d="M108.219 59.5369C107.936 59.8518 107.532 60.0582 107.075 60.082L102.399 60.3262C101.485 60.3739 100.707 59.6729 100.659 58.7602C100.611 57.8471 101.313 57.0688 102.226 57.0211L106.903 56.7765C107.816 56.7288 108.595 57.4298 108.642 58.3429C108.666 58.7997 108.503 59.2223 108.219 59.5369Z"
                    fill="white"
                  />
                </g>
                <path
                  id="Vector_30"
                  d="M128.313 73.1727C128.029 73.4873 127.625 73.6941 127.169 73.7179C126.255 73.7656 125.477 73.0646 125.429 72.1515L125.307 69.8137C125.259 68.901 125.961 68.1227 126.874 68.0746C127.787 68.0269 128.566 68.7279 128.613 69.641L128.736 71.9788C128.759 72.4352 128.596 72.8582 128.313 73.1727Z"
                  fill="white"
                />
              </g>
            </g>
          </g>
        </svg>

        <div className={styles.text} ref={text}>
          <h2 className={styles.cookietitle}>Cookie Policy</h2>

          <p className={styles.cookiesubtitle}>
            This Site Uses Cookies and Your Privacy Choice Is Important to Us
          </p>

          <p className={styles.legal}>
            We suggest you choose Customize My Settings to make your
            individualized choices. Accept All Cookies means that you are
            choosing to accept third-party Cookies and that you understand this
            choice.
          </p>

          <button
            className={styles.buttonClass}
            ref={button}
            onClick={handleClick}
          >
            Accept Cookies
          </button>
        </div>
      </div>
    </div>
  );
}
